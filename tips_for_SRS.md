## 想定ユースケース、機能要求、性能要求、の記載内容をかき分けるtips

| 項目 | 役割 | 書く内容 | 典型的な書式 | チェックポイント |
| ----- | ----- | ----- | ----- | ----- |
| 想定ユースケース（Who / Why / When / Where / How） | 「だれが・いつ/どこで・なぜ本製品を使い、どう終わるか？」 | アクター、環境、目的、手順（ごく粗く）、終了条件 |　シナリオ表・時系列図・簡易シーケンス　| ストーリーになっているか／数値は最小限 |
| 機能要求（What） | 「そのシナリオを成立させる機能は何か？」 | システムが備える“能力”や“挙動”（スイッチング・給電・検出など） | “System shall …”＋説明＋根拠 | ひとつの機能を 1 行で完結／MUST・SHOULD・FUTUREを付与 |
| 性能要求（How well） | 「その機能はどの程度の性能で動けば良いか？」 | 定量値＋条件＋測定方法（速度・電力・温度・時間など） | “System shall achieve <値> under <条件>” | すべて単位付き数値／Pass/Fail が判定できる |


## 想定ユースケース、機能要求、性能要求、の記載内容をかき分けるtips_より実務者目線で有用な考え方

### Q.下記の認識であっている?
・ユースケースではストーリーとラフなゴールを定義する。
・機能要求では各ユースケースを実現するために必要な機能を分解/列挙する。ただし具体的な数字（スペック、準拠数r規格）の定義は行わない。
・性能要求では各ユースケースを実現するために必要な機能の具体的な数字を定義する。

おおむねその理解で合っていますが、**機能要求に入れてよい／性能要求へ回すべき数字**に少しだけ補足します。
| フェーズ            | 目的                         | 数字の扱い                                                                                                                                            |
| --------------- | -------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ |
| **ユースケース (UC)** | ストーリーと“何が起こればゴールか”を外部視点で示す | *桁感レベル*（数秒・数台など）の目安は OK<br>※厳密値や規格番号は書かない                                                                                                        |
| **機能要求 (FR)**   | UCを叶えるため“システムが備えるべき能力”を列挙  | **数量・種類などの構成を示す数字は入れて良い**<br>例： *「2 つの HDMI ポートを備える」「3 台の USB-A/C を列挙できる」*<br>→ これは“何ができるか”という**構造的事実**なので FR で管理<br>ただし **性能（速度・解像度・電力値）は書かない** |
| **性能要求 (PR)**   | FR を「どの程度の品質で」実現するかを定量化    | 速度、分解能、電力、温度、時間、許容誤差、規格番号など**テスト判定に使う具体値**をすべて記載                                                                                                 |

### まとめ

* **UC** … ストーリー＋ラフなゴール
* **FR** … システムの“できること”と**構成上の数字（ポート個数など）**
* **PR** … “どのくらい良く”を示す**スペック&規格**

この分け方で進めれば、ドキュメント同士の重複や矛盾が起きにくくなります。

### Q. ユースケースの"事後条件"欄に、数値/規格などを記載すべきか？ユースケースには極力数字は入れずにシナリオのみ記載し、詳しい数字/規格は性能要求の欄に記載すべきではないか
### ユースケースに **「どこまで数字を書くか」** ― 実務的なバランス

| 項目                                                        | 推奨度      | 理由                                                                                |
| --------------------------------------------------------- | -------- | --------------------------------------------------------------------------------- |
| **利用者が“成否”を認識できるラフな数字**<br>（数秒・数分・数台…）                    | **入れる**  | 物語だけだと「いつ完了とみなすか」が曖昧になるため。“3 秒以内” や “2 台” 程度の*桁感*は載せ、テスターやレビューアがゴールをイメージできるようにする。 |
| **詳細スペック／規格番号／許容誤差**<br>（4 K60 Hz 4:4:4、8.1 Gb/s、±5 % など） | **入れない** | これらは *性能要求 (PR)* で正式に定義し、テスト ID とトレースさせる。ユースケースに書くと二重管理になり、後で数値が変わったとき同期漏れが起きやすい。 |
| **内部パラメータ・レジスタ値**                                         | **入れない** | ユースケースは外部可視レベルで完結させる。                                                             |

---

#### 実践ガイド

1. **ユースケース “事後条件” には「利用者が確認できる結果」＋“桁感”だけを書く**
   *例 →*

   > 接続後 **数秒以内**に外部ディスプレイが表示／PC が **充電中** と表示

2. **性能要求 (PR) に具体的な数値と規格を集中させる**
   *例 →*

   > PR-004: *System shall support **4 K × 2 @ 60 Hz 4:4:4** over HDMI (VESA TPS4).*
   > PR-006: *Host-switch blackout time **≤ 500 ms**.*

3. **ユースケース → 機能要求 → 性能要求 を ID でリンク**
   ユースケースが「何秒」「何台」といったラフ値を含んでも、実際に試験で判定するのは PR の精密値。リンクを張っておけば二重メンテの問題を防げます。

---

#### 例（修正版 UC-01 抜粋）

| ID    | シナリオ名      | 事後条件 (外部可視＆ラフ値)                                                                 |
| ----- | ---------- | ------------------------------------------------------------------------------- |
| UC-01 | 周辺機器ホットプラグ | 接続後 **数秒以内**に<br>・ディスプレイが拡張表示になる<br>・USB デバイスが OS に表示<br>・PC のバッテリアイコンが **充電中** |

> 👉 「数秒以内」「充電中」までが UC。
> 👉 実際のターゲット値（3 s、60 W 給電、4 K60 Hz …）は **PR** で明示し、UC-01 → PR-004 / PR-006 … とトレースさせる。

---

### まとめ

* **ユースケース＝ストーリー＋ラフなゴール**
* **性能要求＝そのゴールを満たす定量スペック**
  数値が重複しないように、ラフ値止まりか／精密値かで書き分ければ OK です。

### Q. PRの作成に入りますが、作成の方針/指針を教えてください
### 性能要求 (PR) を作るときの方針／指針

以下のステップで進めると、後工程（設計・試験・量産）までブレない PR が書けます。

| Step                  | ねらい               | 具体的アクション & ヒント                                                                                                                      |
| --------------------- | ----------------- | ----------------------------------------------------------------------------------------------------------------------------------- |
| **1. ソースを集める**        | 何を数値化すべきか洗い出す     | - \*\*UC／FR に潜む“ラフ値”\*\*を拾う（「数秒以内」など）<br>- 規格：USB-IF CTS、VESA TPS、HDMI LA、IEC 61000-4-2…<br>- 競合品・顧客期待値（90 W PD、4 K60 4:4:4 など）     |
| **2. カテゴリ分け**         | 抜け漏れ防止 & レビューしやすさ | ①映像／USB通信<br>②電源・効率<br>③タイミング（切替・列挙）<br>④熱・環境<br>⑤信頼性（OC保護、MTBF）<br>⑥EMC／ESD                                                        |
| **3. “SMART” に書く**    | 測定可能 & 判定一発       | - **S**pecific：指標は 1 軸に<br>- **M**easurable：単位＋許容差<br>- **A**ttainable：実現可能値<br>- **R**elevant：対応 FR と一致<br>- **T**raceable：測定方法を明記 |
| **4. マージンを入れる**       | 設計余裕 & 量産バラツキ     | 規格ギリギリではなく 10–20 % の設計マージンを取る（例：ブラックアウト≦500 ms の要求に対して 300 ms 設計目標）                                                                 |
| **5. 一貫したフォーマット**     | 後で機械処理／差分管理       | **ID / 指標 / 数値＋条件 / 測定方法 / 関連FR** の 5 列を固定                                                                                          |
| **6. 付録 A マトリクスへリンク** | トレース確保            | PR を書き終えたら UC⇆FR⇆PR の表に ID を転記                                                                                                      |
| **7. レビュー→凍結**        | 手戻り最小化            | 開発チーム＋調達＋テスト担当に回覧し、**版番号を凍結**してから詳細設計へ                                                                                              |

---

#### フォーマット例（Markdown）

```markdown
| ID   | 指標             | 数値／条件                                | 測定方法              | 関連FR |
|------|------------------|-------------------------------------------|-----------------------|--------|
| PR-001 | 映像解像度      | 4K ×2 @ 60 Hz 4:4:4（DP Alt, HBR3 2lane）| VESA TPS4             | FR-001 |
| PR-002 | USB列挙時間     | ≤3 s で USB3.2 デバイス3台列挙完了        | USB-IF TID 2100       | FR-002 |
| PR-003 | PD給電能力      | 20 V × 3 A = 60 W（PDO#3）               | USB-IF CTS PD 3.1     | FR-003 |
| PR-004 | 切替ブラックアウト | ≤500 ms                                 | HDMI アナライザ＋LA   | FR-004 |
| PR-005 | スリープ給電    | USB-A/C 5 V ±5 % @1 A (No host)          | 電源負荷＋DMM         | FR-005 |
| PR-006 | OC遮断時間      | ≤5 ms（復帰 ≤1 s）                       | 電流プローブ＋オシロ  | FR-006 |
| PR-007 | 表面温度        | ≤40 ℃ (Ta=25 ℃, full-load 60 min)       | 熱電対5点平均         | FR-005 |
| PR-008 | ESD耐性         | ±8 kV Air / ±4 kV Contact               | IEC 61000-4-2 Level 3 | FR-006 |
```

---

#### 作成のコツ

1. **単位と許容差を忘れない**

   * 「60 W ±0 %」ではなく **“20 V×3 A, PDO#3”** のように定義。
2. **条件を添える**

   * 温度・負荷状態・同時動作などを “@” や括弧で書く。
3. **測定方法は具体名**

   * 規格テスト番号や使用計測器を入れるとテスターが迷わない。
4. **ID は連番＋カテゴリ連想しやすい順**

   * 例：PR-1xx = 映像、2xx = USB、3xx = 電源…

---

これをベースにドラフト PR を書いていただければ、数値の妥当性・規格引用の正確さなどを次回レビューします！

第一印象としてUCやFRよりも難易度が高いように思います。特に、各種数字を決めるには様々な規格への理解が必須であり、そこが最も難易度が高く感じます。一般にUC, FR, PRの難易度はどのように認識されているか教えてください
### 一般的な「難易度感」

| 項目              | 典型的に感じる難易度 | 主な理由                                                               | 必要スキル／参照ソース                                       |
| --------------- | ---------- | ------------------------------------------------------------------ | ------------------------------------------------- |
| **ユースケース (UC)** | ★☆☆（低～中）   | *利用者視点の物語* が中心。<br>エンジニアでなくても描ける。                                  | ビジネス理解、業務フロー把握、ユーザーインタビュー                         |
| **機能要求 (FR)**   | ★★☆（中）     | UC を分解し “システムが**何**を出来るべきか” を整理。<br>技術用語・モジュール構成の基礎知識が要る。          | ソフト／ハードの構造理解、既存製品調査、要件定義の型                        |
| **性能要求 (PR)**   | ★★★（高）     | “どの程度良く” を **数値＋規格準拠** で決める。<br>規格解釈・測定方法・マージン設定など**専門知識＋経験値**が多い。 | 規格文書（USB-IF, HDMI, VESA, IEC…）、計測器スキル、熱・EMC・信頼性工学 |

> **体感として**：「UC → FR → PR」の順に難易度が上がる、という認識は多くの開発現場で共通しています。

---

### なぜ PR が難しく感じるのか

1. **規格が多層的**

   * USB-PD だけで “電圧／電流クラス、PDO テーブル、ケーブル仕様 … ” と項目が細分化。
2. **測定方法まで落とし込む必要**

   * “4K60 4:4:4” と書くだけでなく “VESA TPS4 パターンで測定” まで決める。
3. **設計マージンとコストのトレードオフ**

   * 規格限界値より余裕を持たせるほどコスト・熱対策が増す。
4. **部門横断の調整**

   * 電源チーム・信号インテグリティチーム・EMC チームで “数値の整合” が必須。

---

### 難易度に合わせた進め方

| フェーズ   | 効率的なアプローチ                                                                                                                                |
| ------ | ---------------------------------------------------------------------------------------------------------------------------------------- |
| **UC** | ワークショップやユーザ・インタビューでストーリーを可視化し、ステークホルダ全員で合意。                                                                                              |
| **FR** | 既存製品やリファレンスデザインをベンチマークし、ブロック図で機能を棚卸し。                                                                                                    |
| **PR** | 1) **ベースライン**：規格の “最小必須値” を抜き書き<br>2) **競合調査**：市販品スペックを並べる<br>3) **マージン決め**：熱・EMC・歩留まりを加味して社内ガイドラインと照合<br>4) **レビュー会**：電源／信号／試験担当と合同レビュー |

---

### 役割分担の例

| ロール                 | 主導フェーズ | 主な貢献                       |
| ------------------- | ------ | -------------------------- |
| プロダクトマネージャ          | UC     | ビジネス価値・ユーザ課題の明確化           |
| システムアーキテクト          | FR     | 機能ブロック、I/F、構成部品の妥当性        |
| 各専門エンジニア（電源・SI・EMC） | PR     | 規格値解釈、測定条件、マージン設計          |
| テスト／QA              | PR     | 測定手順、Pass/Fail 基準、トレーサビリティ |

---

### まとめ

* **UC → FR → PR** で徐々に “抽象 → 具体”・“非定量 → 定量” へ深掘るため、PR が最も専門知識を要し難易度が高い。
* 規格抜粋 → 市場ベンチ → マージン設定 → クロスレビュー の４段階で徐々に精度を上げると負担が分散できる。
* PR 作成を「難しい」と感じるのは自然。逆に言えば、ここを丁寧に固めれば設計後戻りが大幅に減ります。疑問点は都度相談しながら一緒に磨いていきましょう！
