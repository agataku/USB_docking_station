# USB-C ドック ― 要求仕様書（System Requirements Specification, SRS）
<!-- ファイル名例: SRS_USB-C_DOCK_v0.1.md -->

---

## 目次
1. [はじめに](#1-はじめに)  
2. [製品概要](#2-製品概要)  
3. [機能要求](#3-機能要求-fr)  
4. [性能要求](#4-性能要求-pr)  
5. [インタフェース要求](#5-インタフェース要求-if)  
6. [規格・法規・安全要求](#6-規格法規安全要求-rg)  
7. [環境・信頼性要求](#7-環境信頼性要求-en)  
8. [制約条件 & 前提](#8-制約条件--前提-cs)  
9. [スケジュール & マイルストン](#9-スケジュール--マイルストン)  
10. [バリデーション計画](#10-バリデーション計画)  
11. [用語集](#11-用語集)  
12. [変更履歴](#12-変更履歴)  
13. [付録 A — 要求-試験トレーサビリティ表](#13-付録a--要求試験トレーサビリティ表)  

---

## 1. はじめに(本章はまだTBDなので記載の内容はすべて例です)
### 1.1 目的
- （例）本書は **USB-C ドッキングステーション** の設計・製造・試験に必要な要求事項を定義する。

### 1.2 用語・略語
| 略語 | 説明 |
|------|------|
| PD | Power Delivery |
| MST | Multi-Stream Transport |
| TBD | To Be Determined |

### 1.3 参照資料
- USB Type-C® Cable and Connector Spec, Rev 2.2  
- DisplayPort Alt Mode Spec, v2.1  

---

## 2. 製品概要
### 2.1 背景
- ディスプレイやUSBデバイスのコード類で寮の机が埋まっており、作業スペースの確保が必要なため。
- 8月、10月の技術検定に向けて、実際に手を動かして回路設計を学ぶ必要があるため。

### 2.2 想定ユースケース
| ID | シナリオ名 | 目的 | 前提条件 | 手順 | 事後条件 |
|----|----------|---------|------|----------|----------|
| UC-01 | 周辺機器ホットプラグ | USBドックに周辺機器（PC/外部ディスプレイ/USBデバイス）をホットプラグで接続する | USBドックと周辺機器は未接続 | USBドックに周辺機器を接続する | 接続後数sec以内に、PCが充電中の表示になる/外部ディスプレイに拡張デスクトップが表示される/USBデバイスがPCのUSB Device Manager に USB Mass-Storage として列挙される |
| UC-02 | PC切り替え | 外部ディスプレイ/USBデバイスの接続先PCを切り替える | USBドックと外部ディスプレイ/USBデバイス/PCが接続済み | USBドック上のスイッチを操作する | 切り替え後数秒以内に外部ディスプレイ/USBデバイスのホストPCが切り替わる。切り替え後も両PCへの給電は継続する |
| UC-03 | スリープ給電 | PC未接続時もUSBデバイスへの給電を継続する | USBドックとPCが未接続 | 特になし | USBデバイスのLED が給電中表示（LED点灯）になる |
| UC-04 | 過電流保護 | 接続機器の故障を防止する | USB デバイス短絡 | 特になし | 瞬時に出力遮断／リセット後自動復帰 |


### 2.3 システム構成図
> *図を貼付*

---

## 3. 機能要求 (FR)
> MUST → **必須** / SHOULD → **付加価値** / FUTURE → **将来検討**

| ID | 優先度 | 機能要求 | 根拠 |
|----|--------|------|------------|
| FR-001 | MUST | システムはHDMIを通じて最大2つのディスプレイに画面出力すること | UC-01 |
| FR-002 | MUST | システムは最大3台のUSB3.2デバイスをアクティブホストに列挙すること | UC-01 |
| FR-003 | MUST | システムはUSB typeCを通じて最大2台のPCに給電をすること | UC-01 |
| FR-004 | MUST | システムは外部ディスプレイ/周辺機器のホストPCを切り替えること | UC-02 |
| FR-005 | MUST | システムは最大3台のUSB3.2デバイスに給電を行うこと | UC-03 |
| FR-006 | MUST | システムはIOポートにに過電流が流れた際に瞬時に給電を中止し、自動復帰すること | UC-04 |

---

## 4. 性能要求 (PR)
| ID | 指標 | 数値／条件 | 測定方法 |
|----|------|-----------|----------|
| PR-0xx | ---- | ---- | ---- |
| PR-0xx | ---- | ---- | ---- |
| PR-0xx | ---- | ---- | ---- |
| PR-0xx | ---- | ---- | ---- |
| PR-0xx | ---- | ---- | ---- |
| PR-0xx | ---- | ---- | ---- |
| PR-0xx | ---- | ---- | ---- |
| PR-0xx | ---- | ---- | ---- |
| PR-0xx | ---- | ---- | ---- |
| PR-0xx | ---- | ---- | ---- |
| PR-0xx | ---- | ---- | ---- |
| PR-0xx | ---- | ---- | ---- |
| PR-0xx | ---- | ---- | ---- |
| PR-0xx | ---- | ---- | ---- |
| PR-0xx | ---- | ---- | ---- |
| PR-0xx | ---- | ---- | ---- |
---

## 5. インタフェース要求 (IF)
### 5.1 物理コネクタ
| ID | 種別 | 個数 | メーカー／型番 |
|----|------|------|----------------|
| IF-P-01 | USB-C Receptacle | 2 | TBD |

### 5.2 プロトコル
- USB PD Rev 3.1, EPR 非対応  
- USB3.2 Gen 1 (5 Gb/s)  

### 5.3 配線インピーダンス
- 差動 100 Ω ± 10 %  
- 長さ差 < 5 mm (in-pair)  

---

## 6. 規格・法規・安全要求 (RG)
| ID | 規格 | 適用クラス／レベル |
|----|------|--------------------|
| RG-001 | USB-IF 認証 | TBD |
| RG-002 | RoHS / REACH | 適合必須 |

---

## 7. 環境・信頼性要求 (EN)
| ID | 項目 | 要求値 | 備考 |
|----|------|--------|------|
| EN-001 | 動作温度 | 0 ℃ – 40 ℃ | 表面温度 |
| EN-002 | MTBF | ≥ 50 000 h | 25 ℃ |

---

## 8. 制約条件 & 前提 (CS)
| ID | 制約 | 値 |
|----|------|----|
| CS-001 | 部品コスト | ≤ ¥5 000 (≥ 1 000 pcs) |
| CS-002 | CAD ツール | KiCad 7.x |

---

## 9. スケジュール & マイルストン
| フェーズ | 目標日 | 成果物 |
|----------|--------|--------|
| 試作 A | 2025-10-31 | Rev A 基板 |
| 試作 B | 2025-12-20 | Rev B 基板 |

---

## 10. バリデーション計画
| テスト ID | 対応要求 ID | 概要 | 合格判定 |
|-----------|-------------|------|----------|
| TC-001 | PR-001 | USB-PD PDO ネゴシエーション | Pass / Fail |

---

## 11. 用語集
> *必要に応じ追加*

---

## 12. 変更履歴
| 版 | 日付 | 変更点 | 作成者 |
|----|------|--------|--------|
| 0.1 | 2025-05-10 | 初版 | Agatsu |

---

## 13. 付録 A — 要求-試験トレーサビリティ表
| 要求 ID | テスト ID | 結果 | コメント |
|---------|-----------|------|----------|
| FR-001 | TC-002 | TBD | — |
